"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[486],{3486:(Ht,V,s)=>{s.r(V),s.d(V,{ApprovalinvoicesModule:()=>Gt});var u=s(9808),x=s(4619),N=s(8894),h=s(4521),e=s(5e3);let Q=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-approvalinvoices"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"router-outlet")},dependencies:[h.lC],styles:["h3[_ngcontent-%COMP%]{font-size:14px;font-family:Verdana,Sans-Serif;text-align:center;font-weight:700;margin-top:0}.example-container[_ngcontent-%COMP%]{height:300px;width:600px;margin-left:30px}mat-table[_ngcontent-%COMP%]{padding:.25rem;text-align:center;font-size:11px;font-family:Verdana,Sans-Serif;color:#1a084c;width:600px;height:300px;overflow:auto}mat-header-cell[_ngcontent-%COMP%], mat-header-row[_ngcontent-%COMP%], .mat-header-cell-def[_ngcontent-%COMP%]{min-height:25px;font-family:Verdana,sans-serif;font-weight:700;font-size:11px;color:#1a084c;margin-bottom:5px;top:0;position:sticky;z-index:1;background-color:inherit}mat-row[_ngcontent-%COMP%]{min-height:25px;font-family:Verdana,sans-serif;font-size:11px;color:#1a084c}mat-cell[_ngcontent-%COMP%]{height:25px;font-family:Verdana,sans-serif;font-size:11px;color:#1a084c}.mat-raised-button[_ngcontent-%COMP%]{border-radius:15px;margin-left:50px;font-size:12px;font-family:Verdana,Sans-Serif;text-align:center;font-weight:700;height:30px}mat-grid-tile[_ngcontent-%COMP%]{background:lightblue;margin-left:-600px}  .my-class .modal-dialog{max-width:95%;width:95%;display:flex;flex-direction:column;justify-content:center;overflow-y:auto;min-height:calc(100vh - 60px)}"]}),n})();var c=s(8279),g=s(6087),m=s(4847),l=s(3075),I=s(2843),T=s(89),E=s(2087),M=s(268),Z=s(1135),$=s(5226),f=s.n($),S=s(9473),w=s(9639),B=s(5564),_=s(520),p=s(7621),O=s(485),F=s(3566),R=s(8202);const J=["myModal"];function K(n,r){if(1&n&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.s9C("value",t.code),e.xp6(1),e.Oqu(t.code)}}function z(n,r){if(1&n&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.s9C("value",t.code),e.xp6(1),e.Oqu(t.code)}}let G=(()=>{class n{constructor(t,o,i,a,d){this.http=t,this.fb=o,this.modalService=i,this.datePipe=a,this.invoiceServices=d,this.unsubscribe=[],this.modalOption={},this.dataSource=new c.by,this.displayedColumns=["sbrId","anchorCustomer","counterParty","agreement"],this.clickedRows=new Set,this.currencyList=O.Z}ngOnInit(){this.initForm(),("auth"===this.mode||"delete"===this.mode||"view"===this.mode||"authBuyer"===this.mode)&&this.invoiceForm.disable(),"new"!==this.mode&&this.updateForm(),this.updateParentModel({},this.checkForm())}initForm(){this.invoiceForm=this.fb.group({invoiceNumber:[this.defaultValues.invoiceNumber,[l.kI.required]],sbrReferenceId:[this.defaultValues.sbrReferenceId,[l.kI.required]],agreementId:[this.defaultValues.agreementId,[l.kI.required]],anchorId:[this.defaultValues.anchorId,[l.kI.required]],counterPartyId:[this.defaultValues.counterPartyId,[l.kI.required]],documentType:[this.defaultValues.documentType,[l.kI.required]],documentNumber:[this.defaultValues.documentNumber,[l.kI.required]],currency:[this.defaultValues.currency,[l.kI.required]],amount:[this.defaultValues.amount,[l.kI.required]],date:[this.defaultValues.date,[l.kI.required]],valueDate:[this.defaultValues.valueDate,[l.kI.required]],dueDate:[this.defaultValues.dueDate,[l.kI.required]],portOfLoading:[this.defaultValues.portOfLoading,[l.kI.required]],portOfDischarge:[this.defaultValues.portOfDischarge,[l.kI.required]],shipmentCorporation:[this.defaultValues.shipmentCorporation,[l.kI.required]],realBeneficiary:[this.defaultValues.realBeneficiary,[l.kI.required]],invoiceServiceChargeCurrency:[this.defaultValues.invoiceServiceChargeCurrency,[l.kI.required]],invoiceServiceChargeAmount:[this.defaultValues.invoiceServiceChargeAmount,[l.kI.required]]});const t=this.invoiceForm.valueChanges.subscribe(o=>{document.getElementById("form"),this.updateParentModel(o,this.checkForm())});this.unsubscribe.push(t)}checkForm(){var t;return!(null!==(t=this.invoiceForm.get("invoiceNumber"))&&void 0!==t&&t.hasError("required"))}ngOnDestroy(){this.unsubscribe.forEach(t=>t.unsubscribe())}updateForm(){this.invoiceForm.patchValue(this.formValue)}get f(){return this.invoiceForm.controls}getSBRList(){console.log("Get Invoices"),this.invoiceServices.loadSBR().subscribe(o=>{this.dataSource.data=o,this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.dataSource.filterPredicate=this.createFilter()})}getDismissReason(t){return t===p.If.ESC?"by pressing ESC":t===p.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}isControlValid(t){const o=this.invoiceForm.controls[t];return o.valid&&(o.dirty||o.touched)}isControlInvalid(t){const o=this.invoiceForm.controls[t];return o.invalid&&(o.dirty||o.touched)}controlHasError(t,o){const i=this.invoiceForm.controls[o];return i.hasError(t)&&(i.dirty||i.touched)}isControlTouched(t){return!1}createFilter(){return function(o,i){let a=JSON.parse(i);return-1!==o.firstName.toLowerCase().indexOf(a.firstName)}}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}openSBRDialog(){console.log(this.dataSource.data),this.modalOption.backdrop="static",this.modalOption.keyboard=!1,this.modalOption.size="xl",this.modalOption.animation=!0,this.modalService.open(F.M,this.modalOption).result.then(o=>{this.closeResult=`Closed with: ${o}`,o&&(console.log("row result is "+o),this.f.sbrReferenceId.setValue(o.sbrId),this.f.anchorId.setValue(o.anchorCustomer.customerId),this.f.counterPartyId.setValue(o.counterParty.customerId),this.f.agreementId.setValue(o.agreement.contractReferenceNumber))},o=>{this.closeResult=`Dismissed ${this.getDismissReason(o)}`})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.eN),e.Y36(l.qu),e.Y36(p.FF),e.Y36(u.uU),e.Y36(S.z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-buyerapprovalstep1"]],viewQuery:function(t,o){if(1&t&&(e.Gf(J,5),e.Gf(g.NW,7),e.Gf(m.YE,5)),2&t){let i;e.iGM(i=e.CRH())&&(o.myModal=i.first),e.iGM(i=e.CRH())&&(o.paginator=i.first),e.iGM(i=e.CRH())&&(o.sort=i.first)}},inputs:{updateParentModel:"updateParentModel",defaultValues:"defaultValues",formValue:"formValue",formElement:"formElement",mode:"mode"},decls:113,vars:27,consts:[[1,"card-body"],["id","form",3,"formGroup"],[1,"form-group","row"],[1,"fw-bolder","text-dark"],[1,"container","mt-5"],[1,"col-3"],[1,"floating-label_readonly"],["type","text","name","invoiceNumber","id","invoiceNumber","formControlName","invoiceNumber","placeholder"," ","readonly","",1,"floating-input_readonly"],[1,"label_OA","required"],[1,"floating-label_mandatory"],[1,"input-group","mb-3"],["type","text","name","sbrReferenceId","id","sbrReferenceId","formControlName","sbrReferenceId","placeholder","",1,"floating-input_mandatory","input-group","mb-3"],[1,"label_OA_mandatory"],[1,"input-group-text_OA",3,"click"],[1,"fa","fa-search","fa-fw"],["type","text","name","agreementId","id","agreementId","formControlName","agreementId","placeholder"," ",1,"floating-input_readonly"],[1,"label_OA"],[1,"floating-label"],["type","text","name","anchorId","id","anchorId","formControlName","anchorId","placeholder"," ",1,"floating-input_readonly"],[1,"container"],["type","text","name","counterPartyId","id","counterPartyId","formControlName","counterPartyId","placeholder"," ",1,"floating-input_readonly"],["name","documentType","id","documentType","formControlName","documentType",1,"floating-select_readonly"],["value","INVOICE","selected",""],["type","text","id","documentNumber","name","documentNumber","formControlName","documentNumber","placeholder"," ",1,"floating-input"],[1,"col-1"],["name","currency","id","currency","formControlName","currency",1,"floating-select_mandatory"],[3,"value",4,"ngFor","ngForOf"],[1,"col-2"],["type","text","id","Amount","name","amount","formControlName","amount","placeholder","Amount","currencyMask","","placeholder"," ",1,"floating-input_mandatory"],[1,"mt-12","col-md-12","form-group","row"],["type","date","autocomplete","off","name","date","formControlName","date","placeholder"," ",1,"floating-input_mandatory"],["type","date","autocomplete","off","name","valueDate","formControlName","valueDate","placeholder"," ",1,"floating-input_mandatory"],["type","date","autocomplete","off","name","dueDate","formControlName","dueDate","placeholder"," ",1,"floating-input_mandatory"],["type","text","autocomplete","off","name","portOfLoading","formControlName","portOfLoading","placeholder"," ",1,"floating-input"],["type","text","autocomplete","off","name","portOfDischarge","formControlName","portOfDischarge","placeholder"," ",1,"floating-input"],["type","text","autocomplete","off","name","shipmentCorporation","formControlName","shipmentCorporation","placeholder"," ",1,"floating-input"],["type","text","autocomplete","off","name","realBeneficiary","formControlName","realBeneficiary","placeholder"," ",1,"floating-input"],["name","invoiceServiceChargeCurrency","id","invoiceServiceChargeCurrency","formControlName","invoiceServiceChargeCurrency",1,"floating-select"],["autocomplete","off","name","invoiceServiceChargeAmount","formControlName","invoiceServiceChargeAmount","placeholder"," ","currencyMask","",1,"floating-input"],[3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e._uU(4,"Invoice Info"),e.qZA()(),e.TgZ(5,"div",4)(6,"div",2)(7,"div",5)(8,"div",6),e._UZ(9,"input",7),e.TgZ(10,"label",8),e._uU(11,"Invoice Number"),e.qZA()()(),e.TgZ(12,"div",5)(13,"div",9)(14,"div",10),e._UZ(15,"input",11),e.TgZ(16,"label",12),e._uU(17,"SBR Reference Number"),e.qZA(),e.TgZ(18,"span",13),e.NdJ("click",function(){return o.openSBRDialog()}),e._UZ(19,"i",14),e.qZA()()()(),e.TgZ(20,"div",5)(21,"div",6),e._UZ(22,"input",15),e.TgZ(23,"label",16),e._uU(24,"Agreement Number"),e.qZA()()(),e.TgZ(25,"div",5)(26,"div",17),e._UZ(27,"input",18),e.TgZ(28,"label",16),e._uU(29,"Anchor Id"),e.qZA()()()()(),e.TgZ(30,"div",19)(31,"div",2)(32,"div",5)(33,"div",17),e._UZ(34,"input",20),e.TgZ(35,"label",16),e._uU(36,"Counter Party Id"),e.qZA()()(),e.TgZ(37,"div",5)(38,"div",17)(39,"select",21)(40,"option",22),e._uU(41,"Invoice"),e.qZA()(),e.TgZ(42,"label",16),e._uU(43,"Document Type"),e.qZA()()(),e.TgZ(44,"div",5)(45,"div",17),e._UZ(46,"input",23),e.TgZ(47,"label",16),e._uU(48,"Document Number"),e.qZA()()(),e.TgZ(49,"div",24)(50,"div",17)(51,"select",25),e.YNc(52,K,2,2,"option",26),e.qZA(),e.TgZ(53,"label",16),e._uU(54,"Currency"),e.qZA()()(),e.TgZ(55,"div",27)(56,"div",17),e._UZ(57,"input",28),e.TgZ(58,"label",16),e._uU(59,"Amount"),e.qZA()()()()(),e.TgZ(60,"div",29)(61,"h3",3),e._uU(62,"Document Info"),e.qZA()(),e.TgZ(63,"div",4)(64,"div",2)(65,"div",5)(66,"div",17),e._UZ(67,"input",30),e.TgZ(68,"label",16),e._uU(69,"Invoice Date"),e.qZA()()(),e.TgZ(70,"div",5)(71,"div",17),e._UZ(72,"input",31),e.TgZ(73,"label",16),e._uU(74,"Value Date"),e.qZA()()(),e.TgZ(75,"div",5)(76,"div",17),e._UZ(77,"input",32),e.TgZ(78,"label",16),e._uU(79,"Due Date"),e.qZA()()(),e.TgZ(80,"div",5)(81,"div",17),e._UZ(82,"input",33),e.TgZ(83,"label",16),e._uU(84,"Port Of Loading"),e.qZA()()()()(),e.TgZ(85,"div",19)(86,"div",2)(87,"div",5)(88,"div",17),e._UZ(89,"input",34),e.TgZ(90,"label",16),e._uU(91,"Port Of Discharge"),e.qZA()()(),e.TgZ(92,"div",5)(93,"div",17),e._UZ(94,"input",35),e.TgZ(95,"label",16),e._uU(96,"Shipment Corporation"),e.qZA()()(),e.TgZ(97,"div",5)(98,"div",17),e._UZ(99,"input",36),e.TgZ(100,"label",16),e._uU(101,"Real Beneficiary"),e.qZA()()(),e.TgZ(102,"div",24)(103,"div",17)(104,"select",37),e.YNc(105,z,2,2,"option",26),e.qZA(),e.TgZ(106,"label",16),e._uU(107,"Currency"),e.qZA()()(),e.TgZ(108,"div",27)(109,"div",17),e._UZ(110,"input",38),e.TgZ(111,"label",16),e._uU(112,"Charges Amount"),e.qZA()()()()()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",o.invoiceForm),e.xp6(14),e.ekj("is-invalid",o.isControlInvalid("sbrReferenceId"))("is-valid",o.isControlValid("sbrReferenceId")),e.xp6(31),e.ekj("is-invalid",o.isControlInvalid("documentNumber"))("is-valid",o.isControlValid("documentNumber")),e.xp6(6),e.Q6J("ngForOf",o.currencyList),e.xp6(5),e.ekj("is-invalid",o.isControlInvalid("amount"))("is-valid",o.isControlValid("amount")),e.xp6(10),e.ekj("is-invalid",o.isControlInvalid("date"))("is-valid",o.isControlValid("date")),e.xp6(5),e.ekj("is-invalid",o.isControlInvalid("valueDate"))("is-valid",o.isControlValid("valueDate")),e.xp6(5),e.ekj("is-invalid",o.isControlInvalid("dueDate"))("is-valid",o.isControlValid("dueDate")),e.xp6(28),e.Q6J("ngForOf",o.currencyList))},dependencies:[u.sg,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.sg,l.u,R.g1]}),n})(),H=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-buyerapprovalstep2"]],decls:21,vars:0,consts:[[1,"pb-8","pb-lg-10"],[1,"fw-bolder","text-dark"],[1,"text-gray-400","fw-bold","fs-6"],[1,"link-primary","fw-bolder","cursor-pointer"],[1,"mb-0"],[1,"fs-6","text-gray-600","mb-5"],[1,"notice","d-flex","bg-light-warning","rounded","border-warning","border","border-dashed","p-6"],[1,"svg-icon","svg-icon-2tx","svg-icon-warning","me-4"],[1,"d-flex","flex-stack","flex-grow-1"],[1,"fw-bold"],[1,"text-gray-800","fw-bolder"],[1,"fs-6","text-gray-600"],[1,"fw-bolder","cursor-pointer"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2,"Your Are Done!"),e.qZA(),e.TgZ(3,"div",2),e._uU(4," If you need more info, please "),e.TgZ(5,"a",3),e._uU(6," Sign In"),e.qZA(),e._uU(7,". "),e.qZA()(),e.TgZ(8,"div",4)(9,"div",5),e._uU(10," Writing headlines for blog posts is as much an art as it is a science and probably warrants its own post, but for all advise is with what works for your great & amazing audience. "),e.qZA(),e.TgZ(11,"div",6),e._UZ(12,"span",7),e.TgZ(13,"div",8)(14,"div",9)(15,"h4",10),e._uU(16,"We need your attention!"),e.qZA(),e.TgZ(17,"div",11),e._uU(18," To start using great tools, please, please "),e.TgZ(19,"a",12),e._uU(20," Create Team Platform"),e.qZA()()()()()())}}),n})();function L(n,r){if(1&n&&(e.ynx(0),e._UZ(1,"app-buyerapprovalstep1",12),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("updateParentModel",t.updateAccount)("defaultValues",t.account$.value)("formValue",t.formValue)("formElement",t.formElement)("mode",t.mode)}}function j(n,r){1&n&&(e.ynx(0),e._UZ(1,"app-buyerapprovalstep2",13),e.BQk())}function W(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",14),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.prevStep())}),e._UZ(2,"span",15),e._uU(3," Back "),e.qZA(),e.BQk()}2&n&&(e.xp6(2),e.Q6J("inlineSVG","./assets/media/icons/duotune/arrows/arr063.svg"))}function X(n,r){1&n&&(e.ynx(0),e._uU(1),e._UZ(2,"span",18),e.BQk()),2&n&&(e.xp6(1),e.hij(" Continue "," "," "),e.xp6(1),e.Q6J("inlineSVG","./assets/media/icons/duotune/arrows/arr064.svg"))}function ee(n,r){1&n&&(e.ynx(0),e._uU(1," Submit "),e.BQk())}function te(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div")(2,"button",16),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.nextStep())}),e.TgZ(3,"span",17),e.YNc(4,X,3,2,"ng-container",8),e.YNc(5,ee,2,0,"ng-container",8),e.qZA()()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("disabled",!t.isCurrentFormValid$.value),e.xp6(2),e.Q6J("ngIf",t.currentStep$.value<t.formsCount-1),e.xp6(1),e.Q6J("ngIf",t.currentStep$.value===t.formsCount-1)}}const oe=function(n,r){return{current:n,completed:r}},ne=function(n){return{current:n}};let ie=(()=>{class n{constructor(t,o,i,a,d,y){this.router=t,this.route=o,this.http=i,this.activeModal=a,this.authService=d,this.invoiceServices=y,this.formsCount=2,this.account$=new Z.X(w.l),this.currentStep$=new Z.X(1),this.isCurrentFormValid$=new Z.X(!1),this.unsubscribe=[],this.checkNextStage=!0,this.updateAccount=(b,v)=>{this.formElement=this.account$;const U=Object.assign(Object.assign({},this.account$.value),b);this.account$.next(U),this.isCurrentFormValid$.next(v)}}ngOnInit(){"new"!==this.mode&&(this.formValue=this.fromParent)}nextStep(){const t=this.currentStep$.value+1;if(!(t>this.formsCount)){if(console.log("this is form next step elemet is "+this.formElement),this.currentStep$.value===this.formsCount-1){this.cInvoice=new B.s(this.account$.value);const o=this.cInvoice;console.log(o),("authBuyer"===this.mode||"auth"===this.mode)&&(this.checkNextStage=!1,this.invoiceServices.dataItem(o,this.mode).subscribe(i=>{null!==i&&""!==i?(this.checkNextStage=!0,f().fire({title:"Authorize Record Successfully",icon:"success"})):f().fire({title:"Error is occurred.",icon:"error"}),null!==i&&""!==i&&this.checkNextStage&&this.currentStep$.next(t)},i=>{this.checkNextStage=!1,console.error("There was an error!",i)}))}this.checkNextStage&&this.currentStep$.next(t)}}prevStep(){const t=this.currentStep$.value-1;0!==t&&this.currentStep$.next(t)}ngOnDestroy(){this.unsubscribe.forEach(t=>t.unsubscribe())}errorHandle(t){let o;return o=t.error instanceof ErrorEvent?t.error.message:`Error Code: ${t.status}\nMessage: ${t.message}`,console.log(o),(0,I._)(o)}closeModal(){console.log("close modal"),this.activeModal.dismiss()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h.F0),e.Y36(h.gz),e.Y36(_.eN),e.Y36(p.Kz),e.Y36(T.e8),e.Y36(S.z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-buyerapprovalinvoicesmodal"]],outputs:{mode:"mode",formValue:"formValue",formElement:"formElement"},decls:22,vars:11,consts:[[1,"card"],[1,"card-body"],["id","kt_create_account_stepper",1,"stepper","stepper-links","d-flex","flex-column"],[1,"stepper-nav","mb-5"],[1,"stepper-item",3,"ngClass"],[1,"stepper-title"],["noValidate","","id","kt_create_account_form",1,"mx-auto","mw-100","w-100"],[1,"current"],[4,"ngIf"],[1,"d-flex","flex-stack","pt-15",2,"justify-content","center"],[1,"mr-2"],["type","button",1,"btn","btn-sm","btn-light-warning","btn-light-primary","me-2",3,"click"],[1,"",3,"updateParentModel","defaultValues","formValue","formElement","mode"],[1,"w-100"],["type","button",1,"btn","btn-sm","btn-color-red","btn-light-primary","me-2",3,"click"],[1,"svg-icon","svg-icon-4","me-1",3,"inlineSVG"],["type","button",1,"btn","btn-sm","btn-light-success","btn-primary","me-2",3,"disabled","click"],[1,"indicator-label"],[1,"svg-icon","svg-icon-3","ms-2","me-0",3,"inlineSVG"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e._uU(6,"Invoice Info"),e.qZA()(),e.TgZ(7,"div",4)(8,"h3",5),e._uU(9,"Completed"),e.qZA()()(),e.TgZ(10,"form",6)(11,"div",7),e.YNc(12,L,2,5,"ng-container",8),e.YNc(13,j,2,0,"ng-container",8),e.qZA(),e.TgZ(14,"div",9)(15,"div",10),e.YNc(16,W,4,1,"ng-container",8),e.qZA(),e.TgZ(17,"div",10),e.ynx(18),e.TgZ(19,"button",11),e.NdJ("click",function(){return o.closeModal()}),e._uU(20," Cancel "),e.qZA(),e.BQk(),e.qZA(),e.YNc(21,te,6,3,"ng-container",8),e.qZA()()()()()),2&t&&(e.xp6(4),e.Q6J("ngClass",e.WLB(6,oe,1===o.currentStep$.value,o.currentStep$.value>1)),e.xp6(3),e.Q6J("ngClass",e.VKq(9,ne,2===o.currentStep$.value)),e.xp6(5),e.Q6J("ngIf",1===o.currentStep$.value),e.xp6(1),e.Q6J("ngIf",2===o.currentStep$.value),e.xp6(3),e.Q6J("ngIf",1!==o.currentStep$.value),e.xp6(5),e.Q6J("ngIf",o.currentStep$.value!==o.formsCount))},dependencies:[u.mk,u.O5,x.d$,l._Y,l.JL,G,H]}),n})();var C=s(3737),P=s(1965),D=s(72);function re(n,r){1&n&&(e.TgZ(0,"th",23),e._uU(1," InvoiceNumber "),e.qZA())}function ae(n,r){if(1&n&&(e.TgZ(0,"td",24),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.hij(" ",t.invoiceNumber," ")}}function se(n,r){1&n&&(e.TgZ(0,"th",23),e._uU(1," SBR No"),e.qZA())}function le(n,r){if(1&n&&(e.TgZ(0,"td",24),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.hij(" ",t.sbrReferenceId," ")}}function ce(n,r){1&n&&(e.TgZ(0,"th",23),e._uU(1," Agreement No"),e.qZA())}function ue(n,r){if(1&n&&(e.TgZ(0,"td",24),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.hij(" ",t.agreementId," ")}}function pe(n,r){1&n&&(e.TgZ(0,"th",23),e._uU(1," Currency"),e.qZA())}function de(n,r){if(1&n&&(e.TgZ(0,"td",24),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.hij(" ",t.currency," ")}}function me(n,r){1&n&&(e.TgZ(0,"th",23),e._uU(1," Amount"),e.qZA())}function ve(n,r){if(1&n&&(e.TgZ(0,"td",24),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.hij(" ",t.amount," ")}}function fe(n,r){1&n&&(e.TgZ(0,"th",23),e._uU(1," Due Date"),e.qZA())}function he(n,r){if(1&n&&(e.TgZ(0,"td",24),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.dueDate,"MM/dd/YYYY")," ")}}function ge(n,r){1&n&&(e.TgZ(0,"th",23),e._uU(1," Status"),e.qZA())}function _e(n,r){if(1&n&&(e.TgZ(0,"td",24),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.hij(" ",t.status," ")}}function Ce(n,r){1&n&&(e.TgZ(0,"th",23),e._uU(1," Actions"),e.qZA())}function ye(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"a",26),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.openInvoiceDialog(i,"edit"))}),e._UZ(2,"span",27),e.qZA(),e.BQk()}2&n&&(e.xp6(2),e.Q6J("inlineSVG","./assets/media/svg/icons/Communication/Write.svg"))}function be(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"a",28),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.openInvoiceDialog(i,"view"))}),e._UZ(2,"span",29),e.qZA(),e.BQk()}2&n&&(e.xp6(2),e.Q6J("inlineSVG","./assets/media/svg/icons/Code/Compiling.svg"))}function Ae(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"a",30),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.openInvoiceDialog(i,"authBuyer"))}),e._UZ(2,"span",31),e.qZA(),e.BQk()}2&n&&(e.xp6(2),e.Q6J("inlineSVG","./assets/media/icons/duotune/arrows/arr064.svg"))}function xe(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"a",32),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.openInvoiceDialog(i,"viewHistory"))}),e._UZ(2,"span",27),e.qZA(),e.BQk()}2&n&&(e.xp6(2),e.Q6J("inlineSVG","./assets/media/svg/icons/Communication/Clipboard-list.svg"))}function Ze(n,r){if(1&n&&(e.TgZ(0,"td",24),e.YNc(1,ye,3,1,"ng-container",25),e.YNc(2,be,3,1,"ng-container",25),e.YNc(3,Ae,3,1,"ng-container",25),e.YNc(4,xe,3,1,"ng-container",25),e.qZA()),2&n){const t=r.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",(o.authRoles.includes("SUPER_ADMIN")||o.authRoles.includes("BANK_USER_MAKER")||o.authRoles.includes("BANK_ADMIN_MAKER"))&&"MASTER"!=t.transactionStatus),e.xp6(1),e.Q6J("ngIf",o.authRoles.includes("SUPER_ADMIN")||o.authRoles.includes("BANK_USER_MAKER")||o.authRoles.includes("BANK_USER_CHECKER")||o.authRoles.includes("BANK_USER_VIEWER")||o.authRoles.includes("BANK_ADMIN_MAKER")||o.authRoles.includes("BANK_ADMIN_CHECKER")||o.authRoles.includes("BANK_ADMIN_VIEWER")),e.xp6(1),e.Q6J("ngIf",o.authRoles.includes("SUPER_ADMIN")||o.authRoles.includes("BANK_USER_MAKER")||o.authRoles.includes("BANK_USER_CHECKER")||o.authRoles.includes("BANK_USER_VIEWER")||o.authRoles.includes("BANK_ADMIN_MAKER")||o.authRoles.includes("BANK_ADMIN_CHECKER")||o.authRoles.includes("BANK_ADMIN_VIEWER")),e.xp6(1),e.Q6J("ngIf",o.authRoles.includes("SUPER_ADMIN")||o.authRoles.includes("BANK_ADMIN_VIEWER")||o.authRoles.includes("BANK_USER_VIEWER"))}}function Se(n,r){1&n&&e._UZ(0,"tr",33)}const Ie=function(n,r){return{hovered:n,highlighted:r}};function Te(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr",34),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.highlighted=!a.highlighted)})("mouseover",function(){const a=e.CHM(t).$implicit;return e.KtG(a.hovered=!0)})("mouseout",function(){const a=e.CHM(t).$implicit;return e.KtG(a.hovered=!1)}),e.qZA()}if(2&n){const t=r.$implicit;e.Q6J("ngClass",e.WLB(1,Ie,t.hovered,t.highlighted))}}let Ne=(()=>{class n{constructor(t,o,i,a,d,y,b){this.http=t,this.authService=o,this.modalService=i,this.notifyService=a,this.datePipe=d,this.spinner=y,this.oapfcommonService=b,this.dataSource=new c.by,this.displayedColumns=["invoiceNumber","sbrReferenceId","agreementId","currency","amount","dueDate","status","actions"],this.fDisplayedColumns=["invoiceNumber","sbrReferenceId","agreementId","currency","amount","dueDate","status","actions"],this.modalOption={},this.customFilters=[],this.addFilterFlag=!1,this.firstName=new l.NI(""),this.filterValues={firstName:""},this.progress=0,this.message="",this.errorMsg="",this.subscriptions=[],this.totalRows=0,this.pageSize=5,this.currentPage=0,this.pageSizeOptions=[5,10,25,100];const v=this.authService.getAuthFromLocalStorage();this.authRoles=null==v?void 0:v.aRoles}ngOnInit(){this.getInvoices()}getInvoices(){console.log("Get Approval Invoices");const t=this.oapfcommonService.getDataWithPagination("/oapf/api/v1/invoices/forAnchorPartyApproval",this.currentPage,this.pageSize,this.sortData).subscribe(o=>{this.dataSource.data=o.content,this.totalRows=o.totalElements,console.log(this.totalRows)});this.subscriptions.push(t)}createFilter(){return function(o,i){let a=JSON.parse(i);return-1!==o.firstName.toLowerCase().indexOf(a.firstName)}}openInvoiceDialog(t,o){console.log(t),this.modalOption.backdrop="static",this.modalOption.keyboard=!1,this.modalOption.size="xl";const i=this.modalService.open(ie,this.modalOption);i.componentInstance.mode=o,i.componentInstance.fromParent=t,i.result.then(a=>{console.log(a)},a=>{this.getInvoices(),this.closeResult=`Dismissed ${this.getDismissReason(a)}`})}errorHandle(t){let o="";return o=t.error instanceof ErrorEvent?t.error.message:`Error Code: ${t.status}\nMessage: ${t.message}`,console.log(o),(0,I._)(o)}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}openFilter(){this.modalOption.backdrop="static",this.modalOption.keyboard=!1;const t=this.modalService.open(E.z,this.modalOption);t.componentInstance.fDisplayedColumns=this.fDisplayedColumns,t.result.then(o=>{if(console.log(o),console.log("test"+o.value.filterOption),o.valid&&o.value.filterOption.length>0){const i=this.oapfcommonService.getFilterWithPagination(o,"filter","oapf/api/v1/invoices/forAnchorPartyApproval",this.currentPage,this.pageSize,this.sortData).subscribe(a=>{this.dataSource.data=a.content,this.totalRows=a.totalElements});this.subscriptions.push(i)}else{const i=this.oapfcommonService.getFilterWithPagination(o,"all","oapf/api/v1/invoices/forAnchorPartyApproval",this.currentPage,this.pageSize,this.sortData).subscribe(a=>{this.dataSource.data=a.content,this.totalRows=a.totalElements});this.subscriptions.push(i)}},o=>{this.closeResult=`Dismissed ${this.getDismissReason(o)}`})}getDismissReason(t){}reset(){this.getInvoices()}pageChanged(t){console.log(this.sort),console.log({event:t}),this.pageSize=t.pageSize,this.currentPage=t.pageIndex,this.getInvoices()}sortChanges(t){console.log(t.direction),this.sortData=t.active+","+t.direction,this.getInvoices()}drop(t){(0,C.bA)(this.displayedColumns,t.previousIndex,t.currentIndex)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.eN),e.Y36(T.e8),e.Y36(p.FF),e.Y36(P.g),e.Y36(u.uU),e.Y36(D.t2),e.Y36(M.W))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-approvalinvoicesbuyer"]],viewQuery:function(t,o){if(1&t&&(e.Gf(g.NW,7),e.Gf(m.YE,5)),2&t){let i;e.iGM(i=e.CRH())&&(o.paginator=i.first),e.iGM(i=e.CRH())&&(o.sort=i.first)}},outputs:{fDisplayedColumns:"fDisplayedColumns"},decls:42,vars:8,consts:[[1,"card"],[1,"toolBar","card-header"],[1,"toolBarTitle","card-title"],[1,"d-flex","align-items-sm-start","py-1"],[1,"card-header",2,"vertical-align","middle"],[1,"me-4"],["data-kt-menu-trigger","click","data-kt-menu-placement","bottom-end","data-kt-menu-flip","top-end",1,"btn","btn-sm","btn-flex","btn-light-warning","btn-active-light","fw-bolder","cursor-pointer",3,"click"],[1,"svg-icon","svg-icon-5","svg-icon-gray-500","me-1",3,"inlineSVG"],["mat-table","","cdkDropList","","cdkDropListOrientation","horizontal","matSort","",1,"",2,"overflow-x","scroll","overflow-y","scroll",3,"dataSource","cdkDropListDropped","matSortChange"],["matColumnDef","invoiceNumber"],["mat-header-cell","","cdkDrag","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","sbrReferenceId"],["matColumnDef","agreementId"],["matColumnDef","currency"],["matColumnDef","amount"],["matColumnDef","dueDate"],["matColumnDef","status"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass","click","mouseover","mouseout",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["mat-header-cell","","cdkDrag","","mat-sort-header",""],["mat-cell",""],[4,"ngIf"],["title","Edit Transaction",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm","me-1",3,"click"],[1,"svg-icon","svg-icon-md","svg-icon-primary",3,"inlineSVG"],["ng-if","(this.authRoles.includes('SUPER_ADMIN')","title","View Transaction",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm","me-1",3,"click"],[1,"svg-icon","svg-icon-md","svg-icon-success",3,"inlineSVG"],["title","Authorize Transaction",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm","me-1",3,"click"],[1,"svg-icon","svg-icon-md","svg-icon-warning",3,"inlineSVG"],["title","View History",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm","me-1",3,"click"],["mat-header-row",""],["mat-row","",3,"ngClass","click","mouseover","mouseout"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3," Buyer Approval Invoice Dashboard "),e.qZA()(),e.TgZ(4,"div",0)(5,"div",3)(6,"div",4)(7,"div",5)(8,"a",6),e.NdJ("click",function(){return o.openFilter()}),e._UZ(9,"span",7),e._uU(10," Filter "),e.qZA()()()(),e.TgZ(11,"div",0)(12,"div")(13,"table",8),e.NdJ("cdkDropListDropped",function(a){return o.drop(a)})("matSortChange",function(a){return o.sortChanges(a)}),e.ynx(14,9),e.YNc(15,re,2,0,"th",10),e.YNc(16,ae,2,1,"td",11),e.BQk(),e.ynx(17,12),e.YNc(18,se,2,0,"th",10),e.YNc(19,le,2,1,"td",11),e.BQk(),e.ynx(20,13),e.YNc(21,ce,2,0,"th",10),e.YNc(22,ue,2,1,"td",11),e.BQk(),e.ynx(23,14),e.YNc(24,pe,2,0,"th",10),e.YNc(25,de,2,1,"td",11),e.BQk(),e.ynx(26,15),e.YNc(27,me,2,0,"th",10),e.YNc(28,ve,2,1,"td",11),e.BQk(),e.ynx(29,16),e.YNc(30,fe,2,0,"th",10),e.YNc(31,he,3,4,"td",11),e.BQk(),e.ynx(32,17),e.YNc(33,ge,2,0,"th",10),e.YNc(34,_e,2,1,"td",11),e.BQk(),e.ynx(35,18),e.YNc(36,Ce,2,0,"th",10),e.YNc(37,Ze,5,4,"td",11),e.BQk(),e.YNc(38,Se,1,0,"tr",19),e.YNc(39,Te,1,4,"tr",20),e.qZA(),e.TgZ(40,"mat-paginator",21,22),e.NdJ("page",function(a){return o.pageChanged(a)}),e.qZA()()()()()),2&t&&(e.xp6(9),e.Q6J("inlineSVG","./assets/media/icons/duotune/general/gen031.svg"),e.xp6(4),e.Q6J("dataSource",o.dataSource),e.xp6(25),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(1),e.Q6J("length",o.totalRows)("pageIndex",o.currentPage)("pageSize",o.pageSize)("pageSizeOptions",o.pageSizeOptions))},dependencies:[u.mk,u.O5,x.d$,g.NW,m.YE,m.nU,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,C.Wj,C.Zt,u.uU],styles:["h3[_ngcontent-%COMP%]{font-size:14px;font-family:Verdana,Sans-Serif;text-align:center;font-weight:700;margin-top:0}.example-container[_ngcontent-%COMP%]{height:300px;width:600px;margin-left:30px}mat-table[_ngcontent-%COMP%]{padding:.25rem;text-align:center;font-size:11px;font-family:Verdana,Sans-Serif;color:#1a084c;width:600px;height:300px;overflow:auto}mat-header-cell[_ngcontent-%COMP%], mat-header-row[_ngcontent-%COMP%], .mat-header-cell-def[_ngcontent-%COMP%]{min-height:25px;font-family:Verdana,sans-serif;font-weight:700;font-size:11px;color:#1a084c;margin-bottom:5px;top:0;position:sticky;z-index:1;background-color:inherit}mat-row[_ngcontent-%COMP%]{min-height:25px;font-family:Verdana,sans-serif;font-size:11px;color:#1a084c}mat-cell[_ngcontent-%COMP%]{height:25px;font-family:Verdana,sans-serif;font-size:11px;color:#1a084c}.mat-raised-button[_ngcontent-%COMP%]{border-radius:15px;margin-left:50px;font-size:12px;font-family:Verdana,Sans-Serif;text-align:center;font-weight:700;height:30px}mat-grid-tile[_ngcontent-%COMP%]{background:lightblue;margin-left:-600px}  .my-class .modal-dialog{max-width:95%;width:95%;display:flex;flex-direction:column;justify-content:center;overflow-y:auto;min-height:calc(100vh - 60px)}"]}),n})();const Re=["myModal"];function De(n,r){if(1&n&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.s9C("value",t.code),e.xp6(1),e.Oqu(t.code)}}function ke(n,r){if(1&n&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.s9C("value",t.code),e.xp6(1),e.Oqu(t.code)}}let Ue=(()=>{class n{constructor(t,o,i,a,d){this.http=t,this.fb=o,this.modalService=i,this.datePipe=a,this.invoiceServices=d,this.unsubscribe=[],this.modalOption={},this.dataSource=new c.by,this.displayedColumns=["sbrId","anchorCustomer","counterParty","agreement"],this.clickedRows=new Set,this.currencyList=O.Z}ngOnInit(){this.initForm(),("auth"===this.mode||"delete"===this.mode||"view"===this.mode||"authBuyer"===this.mode)&&this.invoiceForm.disable(),"new"!==this.mode&&this.updateForm(),this.updateParentModel({},this.checkForm())}initForm(){this.invoiceForm=this.fb.group({invoiceNumber:[this.defaultValues.invoiceNumber,[l.kI.required]],sbrReferenceId:[this.defaultValues.sbrReferenceId,[l.kI.required]],agreementId:[this.defaultValues.agreementId,[l.kI.required]],anchorId:[this.defaultValues.anchorId,[l.kI.required]],counterPartyId:[this.defaultValues.counterPartyId,[l.kI.required]],documentType:[this.defaultValues.documentType,[l.kI.required]],documentNumber:[this.defaultValues.documentNumber,[l.kI.required]],currency:[this.defaultValues.currency,[l.kI.required]],amount:[this.defaultValues.amount,[l.kI.required]],date:[this.defaultValues.date,[l.kI.required]],valueDate:[this.defaultValues.valueDate,[l.kI.required]],dueDate:[this.defaultValues.dueDate,[l.kI.required]],portOfLoading:[this.defaultValues.portOfLoading,[l.kI.required]],portOfDischarge:[this.defaultValues.portOfDischarge,[l.kI.required]],shipmentCorporation:[this.defaultValues.shipmentCorporation,[l.kI.required]],realBeneficiary:[this.defaultValues.realBeneficiary,[l.kI.required]],invoiceServiceChargeCurrency:[this.defaultValues.invoiceServiceChargeCurrency,[l.kI.required]],invoiceServiceChargeAmount:[this.defaultValues.invoiceServiceChargeAmount,[l.kI.required]]});const t=this.invoiceForm.valueChanges.subscribe(o=>{document.getElementById("form"),this.updateParentModel(o,this.checkForm())});this.unsubscribe.push(t)}checkForm(){var t;return!(null!==(t=this.invoiceForm.get("invoiceNumber"))&&void 0!==t&&t.hasError("required"))}ngOnDestroy(){this.unsubscribe.forEach(t=>t.unsubscribe())}updateForm(){this.invoiceForm.patchValue(this.formValue)}get f(){return this.invoiceForm.controls}getSBRList(){console.log("Get Invoices"),this.invoiceServices.loadSBR().subscribe(o=>{this.dataSource.data=o,this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.dataSource.filterPredicate=this.createFilter()})}getDismissReason(t){return t===p.If.ESC?"by pressing ESC":t===p.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}isControlValid(t){const o=this.invoiceForm.controls[t];return o.valid&&(o.dirty||o.touched)}isControlInvalid(t){const o=this.invoiceForm.controls[t];return o.invalid&&(o.dirty||o.touched)}controlHasError(t,o){const i=this.invoiceForm.controls[o];return i.hasError(t)&&(i.dirty||i.touched)}isControlTouched(t){return!1}createFilter(){return function(o,i){let a=JSON.parse(i);return-1!==o.firstName.toLowerCase().indexOf(a.firstName)}}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}openSBRDialog(){console.log(this.dataSource.data),this.modalOption.backdrop="static",this.modalOption.keyboard=!1,this.modalOption.size="xl",this.modalOption.animation=!0,this.modalService.open(F.M,this.modalOption).result.then(o=>{this.closeResult=`Closed with: ${o}`,o&&(console.log("row result is "+o),this.f.sbrReferenceId.setValue(o.sbrId),this.f.anchorId.setValue(o.anchorCustomer.customerId),this.f.counterPartyId.setValue(o.counterParty.customerId),this.f.agreementId.setValue(o.agreement.contractReferenceNumber))},o=>{this.closeResult=`Dismissed ${this.getDismissReason(o)}`})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.eN),e.Y36(l.qu),e.Y36(p.FF),e.Y36(u.uU),e.Y36(S.z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-seller-approval-invoice-step1"]],viewQuery:function(t,o){if(1&t&&(e.Gf(Re,5),e.Gf(g.NW,7),e.Gf(m.YE,5)),2&t){let i;e.iGM(i=e.CRH())&&(o.myModal=i.first),e.iGM(i=e.CRH())&&(o.paginator=i.first),e.iGM(i=e.CRH())&&(o.sort=i.first)}},inputs:{updateParentModel:"updateParentModel",defaultValues:"defaultValues",formValue:"formValue",formElement:"formElement",mode:"mode"},decls:113,vars:27,consts:[[1,"card-body"],["id","form",3,"formGroup"],[1,"form-group","row"],[1,"fw-bolder","text-dark"],[1,"container","mt-5"],[1,"col-3"],[1,"floating-label_readonly"],["type","text","name","invoiceNumber","id","invoiceNumber","formControlName","invoiceNumber","placeholder"," ","readonly","",1,"floating-input_readonly"],[1,"label_OA","required"],[1,"floating-label_mandatory"],[1,"input-group","mb-3"],["type","text","name","sbrReferenceId","id","sbrReferenceId","formControlName","sbrReferenceId","placeholder","",1,"floating-input_mandatory","input-group","mb-3"],[1,"label_OA_mandatory"],[1,"input-group-text_OA",3,"click"],[1,"fa","fa-search","fa-fw"],["type","text","name","agreementId","id","agreementId","formControlName","agreementId","placeholder"," ",1,"floating-input_readonly"],[1,"label_OA"],[1,"floating-label"],["type","text","name","anchorId","id","anchorId","formControlName","anchorId","placeholder"," ",1,"floating-input_readonly"],[1,"container"],["type","text","name","counterPartyId","id","counterPartyId","formControlName","counterPartyId","placeholder"," ",1,"floating-input_readonly"],["name","documentType","id","documentType","formControlName","documentType",1,"floating-select_readonly"],["value","INVOICE","selected",""],["type","text","id","documentNumber","name","documentNumber","formControlName","documentNumber","placeholder"," ",1,"floating-input"],[1,"col-1"],["name","currency","id","currency","formControlName","currency",1,"floating-select_mandatory"],[3,"value",4,"ngFor","ngForOf"],[1,"col-2"],["type","text","id","Amount","name","amount","formControlName","amount","placeholder","Amount","currencyMask","","placeholder"," ",1,"floating-input_mandatory"],[1,"mt-12","col-md-12","form-group","row"],["type","date","autocomplete","off","name","date","formControlName","date","placeholder"," ",1,"floating-input_mandatory"],["type","date","autocomplete","off","name","valueDate","formControlName","valueDate","placeholder"," ",1,"floating-input_mandatory"],["type","date","autocomplete","off","name","dueDate","formControlName","dueDate","placeholder"," ",1,"floating-input_mandatory"],["type","text","autocomplete","off","name","portOfLoading","formControlName","portOfLoading","placeholder"," ",1,"floating-input"],["type","text","autocomplete","off","name","portOfDischarge","formControlName","portOfDischarge","placeholder"," ",1,"floating-input"],["type","text","autocomplete","off","name","shipmentCorporation","formControlName","shipmentCorporation","placeholder"," ",1,"floating-input"],["type","text","autocomplete","off","name","realBeneficiary","formControlName","realBeneficiary","placeholder"," ",1,"floating-input"],["name","invoiceServiceChargeCurrency","id","invoiceServiceChargeCurrency","formControlName","invoiceServiceChargeCurrency",1,"floating-select"],["autocomplete","off","name","invoiceServiceChargeAmount","formControlName","invoiceServiceChargeAmount","placeholder"," ","currencyMask","",1,"floating-input"],[3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e._uU(4,"Invoice Info"),e.qZA()(),e.TgZ(5,"div",4)(6,"div",2)(7,"div",5)(8,"div",6),e._UZ(9,"input",7),e.TgZ(10,"label",8),e._uU(11,"Invoice Number"),e.qZA()()(),e.TgZ(12,"div",5)(13,"div",9)(14,"div",10),e._UZ(15,"input",11),e.TgZ(16,"label",12),e._uU(17,"SBR Reference Number"),e.qZA(),e.TgZ(18,"span",13),e.NdJ("click",function(){return o.openSBRDialog()}),e._UZ(19,"i",14),e.qZA()()()(),e.TgZ(20,"div",5)(21,"div",6),e._UZ(22,"input",15),e.TgZ(23,"label",16),e._uU(24,"Agreement Number"),e.qZA()()(),e.TgZ(25,"div",5)(26,"div",17),e._UZ(27,"input",18),e.TgZ(28,"label",16),e._uU(29,"Anchor Id"),e.qZA()()()()(),e.TgZ(30,"div",19)(31,"div",2)(32,"div",5)(33,"div",17),e._UZ(34,"input",20),e.TgZ(35,"label",16),e._uU(36,"Counter Party Id"),e.qZA()()(),e.TgZ(37,"div",5)(38,"div",17)(39,"select",21)(40,"option",22),e._uU(41,"Invoice"),e.qZA()(),e.TgZ(42,"label",16),e._uU(43,"Document Type"),e.qZA()()(),e.TgZ(44,"div",5)(45,"div",17),e._UZ(46,"input",23),e.TgZ(47,"label",16),e._uU(48,"Document Number"),e.qZA()()(),e.TgZ(49,"div",24)(50,"div",17)(51,"select",25),e.YNc(52,De,2,2,"option",26),e.qZA(),e.TgZ(53,"label",16),e._uU(54,"Currency"),e.qZA()()(),e.TgZ(55,"div",27)(56,"div",17),e._UZ(57,"input",28),e.TgZ(58,"label",16),e._uU(59,"Amount"),e.qZA()()()()(),e.TgZ(60,"div",29)(61,"h3",3),e._uU(62,"Document Info"),e.qZA()(),e.TgZ(63,"div",4)(64,"div",2)(65,"div",5)(66,"div",17),e._UZ(67,"input",30),e.TgZ(68,"label",16),e._uU(69,"Invoice Date"),e.qZA()()(),e.TgZ(70,"div",5)(71,"div",17),e._UZ(72,"input",31),e.TgZ(73,"label",16),e._uU(74,"Value Date"),e.qZA()()(),e.TgZ(75,"div",5)(76,"div",17),e._UZ(77,"input",32),e.TgZ(78,"label",16),e._uU(79,"Due Date"),e.qZA()()(),e.TgZ(80,"div",5)(81,"div",17),e._UZ(82,"input",33),e.TgZ(83,"label",16),e._uU(84,"Port Of Loading"),e.qZA()()()()(),e.TgZ(85,"div",19)(86,"div",2)(87,"div",5)(88,"div",17),e._UZ(89,"input",34),e.TgZ(90,"label",16),e._uU(91,"Port Of Discharge"),e.qZA()()(),e.TgZ(92,"div",5)(93,"div",17),e._UZ(94,"input",35),e.TgZ(95,"label",16),e._uU(96,"Shipment Corporation"),e.qZA()()(),e.TgZ(97,"div",5)(98,"div",17),e._UZ(99,"input",36),e.TgZ(100,"label",16),e._uU(101,"Real Beneficiary"),e.qZA()()(),e.TgZ(102,"div",24)(103,"div",17)(104,"select",37),e.YNc(105,ke,2,2,"option",26),e.qZA(),e.TgZ(106,"label",16),e._uU(107,"Currency"),e.qZA()()(),e.TgZ(108,"div",27)(109,"div",17),e._UZ(110,"input",38),e.TgZ(111,"label",16),e._uU(112,"Charges Amount"),e.qZA()()()()()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",o.invoiceForm),e.xp6(14),e.ekj("is-invalid",o.isControlInvalid("sbrReferenceId"))("is-valid",o.isControlValid("sbrReferenceId")),e.xp6(31),e.ekj("is-invalid",o.isControlInvalid("documentNumber"))("is-valid",o.isControlValid("documentNumber")),e.xp6(6),e.Q6J("ngForOf",o.currencyList),e.xp6(5),e.ekj("is-invalid",o.isControlInvalid("amount"))("is-valid",o.isControlValid("amount")),e.xp6(10),e.ekj("is-invalid",o.isControlInvalid("date"))("is-valid",o.isControlValid("date")),e.xp6(5),e.ekj("is-invalid",o.isControlInvalid("valueDate"))("is-valid",o.isControlValid("valueDate")),e.xp6(5),e.ekj("is-invalid",o.isControlInvalid("dueDate"))("is-valid",o.isControlValid("dueDate")),e.xp6(28),e.Q6J("ngForOf",o.currencyList))},dependencies:[u.sg,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.sg,l.u,R.g1]}),n})();function Ve(n,r){if(1&n&&(e.ynx(0),e._UZ(1,"app-seller-approval-invoice-step1",12),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("updateParentModel",t.updateAccount)("defaultValues",t.account$.value)("formValue",t.formValue)("formElement",t.formElement)("mode",t.mode)}}function Ee(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",13),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.prevStep())}),e._UZ(2,"span",14),e._uU(3," Back "),e.qZA(),e.BQk()}2&n&&(e.xp6(2),e.Q6J("inlineSVG","./assets/media/icons/duotune/arrows/arr063.svg"))}function Me(n,r){1&n&&(e.ynx(0),e._uU(1),e._UZ(2,"span",17),e.BQk()),2&n&&(e.xp6(1),e.hij(" Continue "," "," "),e.xp6(1),e.Q6J("inlineSVG","./assets/media/icons/duotune/arrows/arr064.svg"))}function we(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div")(2,"button",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.nextStep())}),e.TgZ(3,"span",16),e.YNc(4,Me,3,2,"ng-container",8),e.qZA()()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("disabled",!t.isCurrentFormValid$.value),e.xp6(2),e.Q6J("ngIf",t.currentStep$.value<t.formsCount-1)}}function Be(n,r){1&n&&(e.ynx(0),e._uU(1," Submit "),e.BQk())}function Oe(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div")(2,"button",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.nextStep())}),e.TgZ(3,"span",16),e.YNc(4,Be,2,0,"ng-container",8),e.qZA()()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("disabled",!t.isCurrentFormValid$.value),e.xp6(2),e.Q6J("ngIf","view"!==t.mode)}}const Fe=function(n,r){return{current:n,completed:r}};let Pe=(()=>{class n{constructor(t,o,i,a,d,y){this.router=t,this.route=o,this.http=i,this.activeModal=a,this.authService=d,this.invoiceServices=y,this.formsCount=1,this.account$=new Z.X(w.l),this.currentStep$=new Z.X(1),this.isCurrentFormValid$=new Z.X(!1),this.unsubscribe=[],this.checkNextStage=!0,this.updateAccount=(b,v)=>{this.formElement=this.account$;const U=Object.assign(Object.assign({},this.account$.value),b);this.account$.next(U),this.isCurrentFormValid$.next(v)}}ngOnInit(){"new"!==this.mode&&(this.formValue=this.fromParent)}nextStep(){const t=this.currentStep$.value;if(!(t>this.formsCount)){if(console.log("this is form next step element is "+this.formElement),this.currentStep$.value===this.formsCount){this.cInvoice=new B.s(this.account$.value);const o=this.cInvoice;console.log(o),("authSeller"===this.mode||"auth"===this.mode)&&(this.checkNextStage=!1,this.invoiceServices.dataItem(o,this.mode).subscribe(i=>{null!==i&&""!==i?(this.checkNextStage=!0,f().fire({title:"Authorize Record Successfully",icon:"success"})):f().fire({title:"Error is occurred.",icon:"error"}),null!==i&&""!==i&&this.checkNextStage&&this.currentStep$.next(t)},i=>{this.checkNextStage=!1,console.error("There was an error!",i)}))}this.checkNextStage&&this.currentStep$.next(t)}}prevStep(){const t=this.currentStep$.value-1;0!==t&&this.currentStep$.next(t)}ngOnDestroy(){this.unsubscribe.forEach(t=>t.unsubscribe())}errorHandle(t){let o;return o=t.error instanceof ErrorEvent?t.error.message:`Error Code: ${t.status}\nMessage: ${t.message}`,console.log(o),(0,I._)(o)}closeModal(){console.log("close modal"),this.activeModal.dismiss()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h.F0),e.Y36(h.gz),e.Y36(_.eN),e.Y36(p.Kz),e.Y36(T.e8),e.Y36(S.z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-seller-approval-invoice-modal"]],outputs:{mode:"mode",formValue:"formValue",formElement:"formElement"},decls:19,vars:8,consts:[[1,"card"],[1,"card-body"],["id","kt_create_account_stepper",1,"stepper","stepper-links","d-flex","flex-column"],[1,"stepper-nav","mb-5"],[1,"stepper-item",3,"ngClass"],[1,"stepper-title"],["noValidate","","id","kt_create_account_form",1,"mx-auto","mw-100","w-100"],[1,"current"],[4,"ngIf"],[1,"d-flex","flex-stack","pt-15",2,"justify-content","center"],[1,"mr-2"],["type","button",1,"btn","btn-sm","btn-light-warning","btn-light-primary","me-2",3,"click"],[1,"",3,"updateParentModel","defaultValues","formValue","formElement","mode"],["type","button",1,"btn","btn-sm","btn-color-red","btn-light-primary","me-2",3,"click"],[1,"svg-icon","svg-icon-4","me-1",3,"inlineSVG"],["type","button",1,"btn","btn-sm","btn-light-success","btn-primary","me-2",3,"disabled","click"],[1,"indicator-label"],[1,"svg-icon","svg-icon-3","ms-2","me-0",3,"inlineSVG"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e._uU(6,"Invoice Info"),e.qZA()()(),e.TgZ(7,"form",6)(8,"div",7),e.YNc(9,Ve,2,5,"ng-container",8),e.qZA(),e.TgZ(10,"div",9)(11,"div",10),e.YNc(12,Ee,4,1,"ng-container",8),e.qZA(),e.TgZ(13,"div",10),e.ynx(14),e.TgZ(15,"button",11),e.NdJ("click",function(){return o.closeModal()}),e._uU(16," Cancel "),e.qZA(),e.BQk(),e.qZA(),e.YNc(17,we,5,2,"ng-container",8),e.YNc(18,Oe,5,2,"ng-container",8),e.qZA()()()()()),2&t&&(e.xp6(4),e.Q6J("ngClass",e.WLB(5,Fe,1===o.currentStep$.value,o.currentStep$.value>1)),e.xp6(5),e.Q6J("ngIf",1===o.currentStep$.value),e.xp6(3),e.Q6J("ngIf",1!==o.currentStep$.value),e.xp6(5),e.Q6J("ngIf",o.currentStep$.value!==o.formsCount),e.xp6(1),e.Q6J("ngIf","view"!==o.mode))},dependencies:[u.mk,u.O5,x.d$,l._Y,l.JL,Ue]}),n})();function Ye(n,r){1&n&&(e.TgZ(0,"th",23),e._uU(1," InvoiceNumber "),e.qZA())}function qe(n,r){if(1&n&&(e.TgZ(0,"td",24),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.hij(" ",t.invoiceNumber," ")}}function Qe(n,r){1&n&&(e.TgZ(0,"th",23),e._uU(1," SBR No"),e.qZA())}function $e(n,r){if(1&n&&(e.TgZ(0,"td",24),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.hij(" ",t.sbrReferenceId," ")}}function Je(n,r){1&n&&(e.TgZ(0,"th",23),e._uU(1," Agreement No"),e.qZA())}function Ke(n,r){if(1&n&&(e.TgZ(0,"td",24),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.hij(" ",t.agreementId," ")}}function ze(n,r){1&n&&(e.TgZ(0,"th",23),e._uU(1," Currency"),e.qZA())}function Ge(n,r){if(1&n&&(e.TgZ(0,"td",24),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.hij(" ",t.currency," ")}}function He(n,r){1&n&&(e.TgZ(0,"th",23),e._uU(1," Amount"),e.qZA())}function Le(n,r){if(1&n&&(e.TgZ(0,"td",24),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.hij(" ",t.amount," ")}}function je(n,r){1&n&&(e.TgZ(0,"th",23),e._uU(1," Due Date"),e.qZA())}function We(n,r){if(1&n&&(e.TgZ(0,"td",24),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.dueDate,"MM/dd/YYYY")," ")}}function Xe(n,r){1&n&&(e.TgZ(0,"th",23),e._uU(1," Status"),e.qZA())}function et(n,r){if(1&n&&(e.TgZ(0,"td",24),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.hij(" ",t.status," ")}}function tt(n,r){1&n&&(e.TgZ(0,"th",23),e._uU(1," Actions"),e.qZA())}function ot(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"a",26),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.openInvoiceDialog(i,"edit"))}),e._UZ(2,"span",27),e.qZA(),e.BQk()}2&n&&(e.xp6(2),e.Q6J("inlineSVG","./assets/media/svg/icons/Communication/Write.svg"))}function nt(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"a",28),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.openInvoiceDialog(i,"view"))}),e._UZ(2,"span",29),e.qZA(),e.BQk()}2&n&&(e.xp6(2),e.Q6J("inlineSVG","./assets/media/svg/icons/Code/Compiling.svg"))}function it(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"a",30),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.openInvoiceDialog(i,"authSeller"))}),e._UZ(2,"span",31),e.qZA(),e.BQk()}2&n&&(e.xp6(2),e.Q6J("inlineSVG","./assets/media/icons/duotune/arrows/arr064.svg"))}function rt(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"a",32),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.openInvoiceDialog(i,"viewHistory"))}),e._UZ(2,"span",27),e.qZA(),e.BQk()}2&n&&(e.xp6(2),e.Q6J("inlineSVG","./assets/media/svg/icons/Communication/Clipboard-list.svg"))}function at(n,r){if(1&n&&(e.TgZ(0,"td",24),e.YNc(1,ot,3,1,"ng-container",25),e.YNc(2,nt,3,1,"ng-container",25),e.YNc(3,it,3,1,"ng-container",25),e.YNc(4,rt,3,1,"ng-container",25),e.qZA()),2&n){const t=r.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",(o.authRoles.includes("SUPER_ADMIN")||o.authRoles.includes("BANK_USER_MAKER")||o.authRoles.includes("BANK_ADMIN_MAKER"))&&"MASTER"!=t.transactionStatus),e.xp6(1),e.Q6J("ngIf",o.authRoles.includes("SUPER_ADMIN")||o.authRoles.includes("BANK_USER_MAKER")||o.authRoles.includes("BANK_USER_CHECKER")||o.authRoles.includes("BANK_USER_VIEWER")||o.authRoles.includes("BANK_ADMIN_MAKER")||o.authRoles.includes("BANK_ADMIN_CHECKER")||o.authRoles.includes("BANK_ADMIN_VIEWER")),e.xp6(1),e.Q6J("ngIf",o.authRoles.includes("SUPER_ADMIN")||o.authRoles.includes("BANK_USER_MAKER")||o.authRoles.includes("BANK_USER_CHECKER")||o.authRoles.includes("BANK_USER_VIEWER")||o.authRoles.includes("BANK_ADMIN_MAKER")||o.authRoles.includes("BANK_ADMIN_CHECKER")||o.authRoles.includes("BANK_ADMIN_VIEWER")),e.xp6(1),e.Q6J("ngIf",o.authRoles.includes("SUPER_ADMIN")||o.authRoles.includes("BANK_ADMIN_VIEWER")||o.authRoles.includes("BANK_USER_VIEWER"))}}function st(n,r){1&n&&e._UZ(0,"tr",33)}const lt=function(n,r){return{hovered:n,highlighted:r}};function ct(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr",34),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.highlighted=!a.highlighted)})("mouseover",function(){const a=e.CHM(t).$implicit;return e.KtG(a.hovered=!0)})("mouseout",function(){const a=e.CHM(t).$implicit;return e.KtG(a.hovered=!1)}),e.qZA()}if(2&n){const t=r.$implicit;e.Q6J("ngClass",e.WLB(1,lt,t.hovered,t.highlighted))}}const ut=[{path:"",component:Q,children:[{path:"buyerapprovalinvoices",component:Ne},{path:"sellerapprovalinvoices",component:(()=>{class n{constructor(t,o,i,a,d,y,b,v){this.http=t,this.authService=o,this.modalService=i,this.notifyService=a,this.invoiceServices=d,this.datePipe=y,this.spinner=b,this.oapfcommonService=v,this.dataSource=new c.by,this.displayedColumns=["invoiceNumber","sbrReferenceId","agreementId","currency","amount","dueDate","status","actions"],this.fDisplayedColumns=["invoiceNumber","sbrReferenceId","agreementId","currency","amount","dueDate","status","actions"],this.modalOption={},this.customFilters=[],this.addFilterFlag=!1,this.firstName=new l.NI(""),this.filterValues={firstName:""},this.progress=0,this.message="",this.errorMsg="",this.subscriptions=[],this.totalRows=0,this.pageSize=5,this.currentPage=0,this.pageSizeOptions=[5,10,25,100];const A=this.authService.getAuthFromLocalStorage();this.authRoles=null==A?void 0:A.aRoles}ngOnInit(){this.getInvoices()}getInvoices(){console.log("Get Approval Invoices");const t=this.oapfcommonService.getDataWithPagination("oapf/api/v1/invoices/forCounterPartyApproval",this.currentPage,this.pageSize,this.sortData).subscribe(o=>{this.dataSource.data=o.content,this.totalRows=o.totalElements,console.log(this.totalRows)});this.subscriptions.push(t)}createFilter(){return function(o,i){let a=JSON.parse(i);return-1!==o.firstName.toLowerCase().indexOf(a.firstName)}}openInvoiceDialog(t,o){console.log(t),this.modalOption.backdrop="static",this.modalOption.keyboard=!1,this.modalOption.size="xl";const i=this.modalService.open(Pe,this.modalOption);i.componentInstance.mode=o,i.componentInstance.fromParent=t,i.result.then(a=>{console.log(a)},a=>{this.getInvoices(),this.closeResult=`Dismissed ${this.getDismissReason(a)}`})}errorHandle(t){let o="";return o=t.error instanceof ErrorEvent?t.error.message:`Error Code: ${t.status}\nMessage: ${t.message}`,console.log(o),(0,I._)(o)}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}openFilter(){this.modalOption.backdrop="static",this.modalOption.keyboard=!1;const t=this.modalService.open(E.z,this.modalOption);t.componentInstance.fDisplayedColumns=this.fDisplayedColumns,t.result.then(o=>{if(console.log(o),console.log("test"+o.value.filterOption),o.valid&&o.value.filterOption.length>0){const i=this.oapfcommonService.getFilterWithPagination(o,"filter","oapf/api/v1/invoices/forCounterPartyApproval",this.currentPage,this.pageSize,this.sortData).subscribe(a=>{this.dataSource.data=a.content,this.totalRows=a.totalElements});this.subscriptions.push(i)}else{const i=this.oapfcommonService.getFilterWithPagination(o,"all","oapf/api/v1/invoices/forCounterPartyApproval",this.currentPage,this.pageSize,this.sortData).subscribe(a=>{this.dataSource.data=a.content,this.totalRows=a.totalElements});this.subscriptions.push(i)}},o=>{this.closeResult=`Dismissed ${this.getDismissReason(o)}`})}getDismissReason(t){}pageChanged(t){console.log(this.sort),console.log({event:t}),this.pageSize=t.pageSize,this.currentPage=t.pageIndex,this.getInvoices()}sortChanges(t){console.log(t.direction),this.sortData=t.active+","+t.direction,this.getInvoices()}drop(t){(0,C.bA)(this.displayedColumns,t.previousIndex,t.currentIndex)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.eN),e.Y36(T.e8),e.Y36(p.FF),e.Y36(P.g),e.Y36(S.z),e.Y36(u.uU),e.Y36(D.t2),e.Y36(M.W))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-approvalinvoicesseller"]],viewQuery:function(t,o){if(1&t&&(e.Gf(g.NW,7),e.Gf(m.YE,5)),2&t){let i;e.iGM(i=e.CRH())&&(o.paginator=i.first),e.iGM(i=e.CRH())&&(o.sort=i.first)}},outputs:{fDisplayedColumns:"fDisplayedColumns"},decls:42,vars:8,consts:[[1,"card"],[1,"toolBar","card-header"],[1,"toolBarTitle","card-title"],[1,"d-flex","align-items-sm-start","py-1"],[1,"card-header",2,"vertical-align","middle"],[1,"me-4"],["data-kt-menu-trigger","click","data-kt-menu-placement","bottom-end","data-kt-menu-flip","top-end",1,"btn","btn-sm","btn-flex","btn-light-warning","btn-active-light","fw-bolder","cursor-pointer",3,"click"],[1,"svg-icon","svg-icon-5","svg-icon-gray-500","me-1",3,"inlineSVG"],["mat-table","","cdkDropList","","cdkDropListOrientation","horizontal","matSort","",1,"",2,"overflow-x","scroll","overflow-y","scroll",3,"dataSource","cdkDropListDropped","matSortChange"],["matColumnDef","invoiceNumber"],["mat-header-cell","","cdkDrag","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","sbrReferenceId"],["matColumnDef","agreementId"],["matColumnDef","currency"],["matColumnDef","amount"],["matColumnDef","dueDate"],["matColumnDef","status"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass","click","mouseover","mouseout",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["mat-header-cell","","cdkDrag","","mat-sort-header",""],["mat-cell",""],[4,"ngIf"],["title","Edit Transaction",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm","me-1",3,"click"],[1,"svg-icon","svg-icon-md","svg-icon-primary",3,"inlineSVG"],["ng-if","(this.authRoles.includes('SUPER_ADMIN')","title","View Transaction",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm","me-1",3,"click"],[1,"svg-icon","svg-icon-md","svg-icon-success",3,"inlineSVG"],["title","Authorize Transaction",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm","me-1",3,"click"],[1,"svg-icon","svg-icon-md","svg-icon-warning",3,"inlineSVG"],["title","View History",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm","me-1",3,"click"],["mat-header-row",""],["mat-row","",3,"ngClass","click","mouseover","mouseout"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3," Seller Approval Invoice Dashboard "),e.qZA()(),e.TgZ(4,"div",0)(5,"div",3)(6,"div",4)(7,"div",5)(8,"a",6),e.NdJ("click",function(){return o.openFilter()}),e._UZ(9,"span",7),e._uU(10," Filter "),e.qZA()()()(),e.TgZ(11,"div",0)(12,"div")(13,"table",8),e.NdJ("cdkDropListDropped",function(a){return o.drop(a)})("matSortChange",function(a){return o.sortChanges(a)}),e.ynx(14,9),e.YNc(15,Ye,2,0,"th",10),e.YNc(16,qe,2,1,"td",11),e.BQk(),e.ynx(17,12),e.YNc(18,Qe,2,0,"th",10),e.YNc(19,$e,2,1,"td",11),e.BQk(),e.ynx(20,13),e.YNc(21,Je,2,0,"th",10),e.YNc(22,Ke,2,1,"td",11),e.BQk(),e.ynx(23,14),e.YNc(24,ze,2,0,"th",10),e.YNc(25,Ge,2,1,"td",11),e.BQk(),e.ynx(26,15),e.YNc(27,He,2,0,"th",10),e.YNc(28,Le,2,1,"td",11),e.BQk(),e.ynx(29,16),e.YNc(30,je,2,0,"th",10),e.YNc(31,We,3,4,"td",11),e.BQk(),e.ynx(32,17),e.YNc(33,Xe,2,0,"th",10),e.YNc(34,et,2,1,"td",11),e.BQk(),e.ynx(35,18),e.YNc(36,tt,2,0,"th",10),e.YNc(37,at,5,4,"td",11),e.BQk(),e.YNc(38,st,1,0,"tr",19),e.YNc(39,ct,1,4,"tr",20),e.qZA(),e.TgZ(40,"mat-paginator",21,22),e.NdJ("page",function(a){return o.pageChanged(a)}),e.qZA()()()()()),2&t&&(e.xp6(9),e.Q6J("inlineSVG","./assets/media/icons/duotune/general/gen031.svg"),e.xp6(4),e.Q6J("dataSource",o.dataSource),e.xp6(25),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(1),e.Q6J("length",o.totalRows)("pageIndex",o.currentPage)("pageSize",o.pageSize)("pageSizeOptions",o.pageSizeOptions))},dependencies:[u.mk,u.O5,x.d$,g.NW,m.YE,m.nU,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,C.Wj,C.Zt,u.uU],styles:["h3[_ngcontent-%COMP%]{font-size:14px;font-family:Verdana,Sans-Serif;text-align:center;font-weight:700;margin-top:0}.example-container[_ngcontent-%COMP%]{height:300px;width:600px;margin-left:30px}mat-table[_ngcontent-%COMP%]{padding:.25rem;text-align:center;font-size:11px;font-family:Verdana,Sans-Serif;color:#1a084c;width:600px;height:300px;overflow:auto}mat-header-cell[_ngcontent-%COMP%], mat-header-row[_ngcontent-%COMP%], .mat-header-cell-def[_ngcontent-%COMP%]{min-height:25px;font-family:Verdana,sans-serif;font-weight:700;font-size:11px;color:#1a084c;margin-bottom:5px;top:0;position:sticky;z-index:1;background-color:inherit}mat-row[_ngcontent-%COMP%]{min-height:25px;font-family:Verdana,sans-serif;font-size:11px;color:#1a084c}mat-cell[_ngcontent-%COMP%]{height:25px;font-family:Verdana,sans-serif;font-size:11px;color:#1a084c}.mat-raised-button[_ngcontent-%COMP%]{border-radius:15px;margin-left:50px;font-size:12px;font-family:Verdana,Sans-Serif;text-align:center;font-weight:700;height:30px}mat-grid-tile[_ngcontent-%COMP%]{background:lightblue;margin-left:-600px}  .my-class .modal-dialog{max-width:95%;width:95%;display:flex;flex-direction:column;justify-content:center;overflow-y:auto;min-height:calc(100vh - 60px)}"]}),n})()},{path:"",redirectTo:"private-chat",pathMatch:"full"},{path:"**",redirectTo:"private-chat",pathMatch:"full"}]}];let pt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[h.Bz.forChild(ut),h.Bz]}),n})();var dt=s(4894),mt=s(6161),vt=s(5415),ft=s(4376),ht=s(5858),Y=s(1079),gt=s(7544),_t=s(7399),Ct=s(7423),yt=s(9832),bt=s(9224),At=s(7446),xt=s(6688),Zt=s(2081),q=s(6856),St=s(8966),It=s(4834),Tt=s(1125),Nt=s(3954),Rt=s(5245),Dt=s(7531),kt=s(4623),Ut=s(2181),k=s(508),Vt=s(5899),Et=s(773),Mt=s(9814),wt=s(4107),Bt=s(2638),Ot=s(8029),Ft=s(2368),Pt=s(7261),Yt=s(3251),qt=s(4594),Qt=s(7238),$t=s(814),Jt=s(2290),Kt=s(7877),zt=s(631);let Gt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez,pt,N.QX,N.CV,N.mH,x.vi,dt.aw.forRoot(),_.JF,mt.Iq,x.vi.forRoot(),vt.T,l.UX,ft.A0,ht.Z.forRoot(),Y.Bb,gt.g,_t._r,Ct.ot,yt.vV,bt.QW,At.p9,xt.Hi,Zt.T5,q.FA,St.Is,It.t,Tt.To,Nt.N6,Rt.Ps,Dt.c,kt.ie,Ut.Tx,k.XK,g.TU,Vt.Cv,Et.Cq,Mt.Fk,k.si,wt.LD,Bt.SJ,Ot.KP,Ft.rP,Pt.ZX,m.JX,c.p0,Yt.Nh,qt.g0,Qt.AV,$t.dp,Y.Bb,C._t,q.FA,k.XK,Jt.Rh.forRoot(),p.IJ,D.ef,Kt.JB,zt._k,R.Ud]}),n})()}}]);