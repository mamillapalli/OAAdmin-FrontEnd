"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[842],{7842:(ce,A,c)=>{c.r(A),c.d(A,{AccountModule:()=>ae});var v=c(9808),D=c(4619),a=c(3075),f=c(4521),S=c(1135),C=c(6747),e=c(5e3);let E=(()=>{class r{constructor(o,i,n){this.cdr=o,this.oaCommonService=i,this.fb=n,this.isLoading$=new S.X(!1),this.unsubscribe=[];const l=this.isLoading$.asObservable().subscribe(s=>this.isLoading=s);this.unsubscribe.push(l),this.superAdminForm=this.fb.group({userId:["",[a.kI.required]],firstName:["",[a.kI.required]],lastName:["",[a.kI.required]],effectiveDate:["",[a.kI.required]],expiryDate:["",[a.kI.required]],emailAddress:["",[a.kI.required]]})}ngOnInit(){this.getAccounts()}getAccounts(){const o=this.oaCommonService.getMethod("/oaadmin/api/v1/myprofile","MASTER").subscribe(i=>{console.log(i),this.superAdminForm.patchValue(i)});this.unsubscribe.push(o)}saveSettings(){this.isLoading$.next(!0),setTimeout(()=>{this.isLoading$.next(!1),this.cdr.detectChanges()},1500)}ngOnDestroy(){this.unsubscribe.forEach(o=>o.unsubscribe())}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(e.sBO),e.Y36(C.v),e.Y36(a.qu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-overview"]],inputs:{defaultValues:"defaultValues"},decls:39,vars:1,consts:[["id","kt_profile_details_view",1,"card","mb-5","mb-xl-10"],[1,"card-header","cursor-pointer"],[1,"card-title","m-0"],[1,"fw-bolder","m-0"],["routerLink","/crafted/account/settings",1,"btn","btn-primary","align-self-center"],[3,"formGroup"],[1,"row","mb-6"],[1,"col-lg-4","col-form-label","required","fw-bold","fs-6"],[1,"col-lg-8","fv-row"],["type","text","placeholder","User Id","name","userId","formControlName","userId",1,"form-control","form-control-lg","form-control-solid"],[1,"col-lg-8"],[1,"row"],[1,"col-lg-6","fv-row"],["type","text","placeholder","First name","name","firstName","formControlName","firstName",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["type","text","placeholder","Last name","name","lastName","formControlName","lastName",1,"form-control","form-control-lg","form-control-solid"],["type","text","placeholder","Email Address","name","emailAddress","formControlName","emailAddress",1,"form-control","form-control-lg","form-control-solid"],[1,"col-lg-4","col-form-label","fw-bold","fs-6"],[1,"required"],["type","date","placeholder","Effective Date","name","effectiveDate","formControlName","effectiveDate",1,"form-control","form-control-lg","form-control-solid"],["type","date","placeholder","Expiry Date","name","expiryDate","formControlName","expiryDate",1,"form-control","form-control-lg","form-control-solid"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e._uU(4,"Profile Details"),e.qZA()(),e.TgZ(5,"a",4),e._uU(6," Edit Profile "),e.qZA()(),e.TgZ(7,"form",5)(8,"div",6)(9,"label",7),e._uU(10,"User Id"),e.qZA(),e.TgZ(11,"div",8),e._UZ(12,"input",9),e.qZA()(),e.TgZ(13,"div",6)(14,"label",7),e._uU(15,"Full Name"),e.qZA(),e.TgZ(16,"div",10)(17,"div",11)(18,"div",12),e._UZ(19,"input",13),e.qZA(),e.TgZ(20,"div",12),e._UZ(21,"input",14),e.qZA()()()(),e.TgZ(22,"div",6)(23,"label",7),e._uU(24,"Email Address"),e.qZA(),e.TgZ(25,"div",8),e._UZ(26,"input",15),e.qZA()(),e.TgZ(27,"div",6)(28,"label",16)(29,"span",17),e._uU(30,"Effective Date"),e.qZA()(),e.TgZ(31,"div",8),e._UZ(32,"input",18),e.qZA()(),e.TgZ(33,"div",6)(34,"label",16)(35,"span",17),e._uU(36,"Expiry Date"),e.qZA()(),e.TgZ(37,"div",8),e._UZ(38,"input",19),e.qZA()()()()),2&o&&(e.xp6(7),e.Q6J("formGroup",i.superAdminForm))},dependencies:[f.yS,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u],encapsulation:2}),r})(),N=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-account"]],decls:14,vars:0,consts:[[1,"card","mb-5","mb-xl-10"],[1,"card-body","pt-9","pb-0"],[1,"d-flex","flex-wrap","flex-sm-nowrap","mb-3"],[1,"d-flex","overflow-auto","h-55px"],[1,"nav","nav-stretch","nav-line-tabs","nav-line-tabs-2x","border-transparent","fs-5","fw-bolder","flex-nowrap"],[1,"nav-item"],["routerLink","/crafted/account/overview","routerLinkActive","active",1,"nav-link","text-active-primary","me-6"],["routerLink","/crafted/account/settings","routerLinkActive","active",1,"nav-link","text-active-primary","me-6"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),e._uU(4,"Account Setting"),e.qZA()(),e.TgZ(5,"div",3)(6,"ul",4)(7,"li",5)(8,"a",6),e._uU(9," Overview "),e.qZA()(),e.TgZ(10,"li",5)(11,"a",7),e._uU(12," Settings "),e.qZA()()()()()(),e._UZ(13,"router-outlet"))},dependencies:[f.lC,f.yS,f.Od],encapsulation:2}),r})();var k=c(89),U=c(1608),O=c(5226),d=c.n(O),F=c(2313);const P=["formFile"];function q(r,t){if(1&r&&e._UZ(0,"img",31),2&r){const o=e.oxw();e.Q6J("src",o.imageToShow,e.LSH)}}function z(r,t){1&r&&e._UZ(0,"img",32)}function M(r,t){1&r&&(e.ynx(0),e._uU(1,"Save Changes"),e.BQk())}function _(r,t){1&r&&(e.ynx(0),e.TgZ(1,"span",33),e._uU(2),e._UZ(3,"span",34),e.qZA(),e.BQk()),2&r&&(e.xp6(1),e.Udp("display","block"),e.xp6(1),e.hij(" Please wait..."," "," "))}class R{constructor(t,o){this.src=t,this.file=o}}let J=(()=>{class r{constructor(o,i,n,l){this.authService=o,this.oaCommonService=i,this.fb=n,this.sanitizer=l,this.isLoading$=new S.X(!1),this.unsubscribe=[];const s=this.isLoading$.asObservable().subscribe(p=>this.isLoading=p);this.unsubscribe.push(s),this.superAdminForm=this.fb.group({userId:["",[a.kI.required]],firstName:["",[a.kI.required]],lastName:["",[a.kI.required]],effectiveDate:["",[a.kI.required]],expiryDate:["",[a.kI.required]],emailAddress:["",[a.kI.required]]}),this.loadImageFile();const m=this.authService.getAuthFromLocalStorage();this.authRoles=null==m?void 0:m.aRoles,console.log(this.authRoles)}ngOnInit(){this.getAccounts()}loadImageFile(){this.oaCommonService.getProfilePic("/oaadmin/api/v1/getProfilePic").subscribe(i=>{this.isImageLoading=!0;const n=URL.createObjectURL(i);this.imageToShow=this.sanitizer.bypassSecurityTrustUrl(n),this.isImageLoading=!1})}createImageFromBlob(o){let i=new FileReader;i.addEventListener("progress",()=>{this.imageToShow=i.result},!1),o&&i.readAsDataURL(o)}getAccounts(){const o=this.oaCommonService.getMethod("/oaadmin/api/v1/myprofile","MASTER").subscribe(i=>{console.log(i),this.superAdminForm.patchValue(i)});this.unsubscribe.push(o)}saveSettings(){this.cSuperAdmin=new U.N(this.superAdminForm.value),console.log(this.cSuperAdmin);const o=JSON.stringify(this.cSuperAdmin);console.log(o),this.oaCommonService.dataItem(this.cSuperAdmin,this.cSuperAdmin.userId,"edit","oaadmin/api/v1/superadmins").subscribe(i=>{console.log("Response is : "+i),void 0!==i&&""!==i?d().fire({title:"Edit Record Successfully",icon:"success"}).then(n=>{console.log(n),n.value&&d().close()}):d().fire({title:"Error is occurred.",icon:"error"})},i=>{console.error("There was an error!",i)}),this.isLoading$.next(!0),setTimeout(()=>{this.isLoading$.next(!1)},1500)}ngOnDestroy(){this.unsubscribe.forEach(o=>o.unsubscribe())}processFile(o){const i=o.files[0],n=new FileReader;console.log("process file "),n.addEventListener("loadend",l=>{this.selectedFile=new R(l.target.result,i),console.log("process file "+this.selectedFile),this.oaCommonService.uploadImage(this.selectedFile.file,"").subscribe(s=>{console.log(s),null!==s?d().fire({title:"File Status is "+s.fileStatus,icon:"success"}):d().fire({title:"Error is occurred."+s,icon:"error"})},s=>{console.error("There was an error!",s),d().fire({title:"Error is occurred."+s,icon:"error"})})})}onFilechange(o){console.log(o.target.files[0]),this.file=o.target.files[0]}upload(){this.file?this.oaCommonService.uploadImage(this.file,this.f.userId.value).subscribe(o=>{console.log(o),null!==o?(d().fire({title:"File Status is "+o.fileId,icon:"success"}),console.log("after sucess "),this.loadImageFile(),console.log(this.myInputVariable.nativeElement.files),this.myInputVariable.nativeElement.value="",console.log(this.myInputVariable.nativeElement.files)):d().fire({title:"Error is occurred."+o,icon:"error"})},o=>{console.error("There was an error!",o),d().fire({title:"Error is occurred."+o,icon:"error"})}):alert("Please select a file first")}get f(){return this.superAdminForm.controls}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(k.e8),e.Y36(C.v),e.Y36(a.qu),e.Y36(F.H7))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-profile-details"]],viewQuery:function(o,i){if(1&o&&e.Gf(P,5),2&o){let n;e.iGM(n=e.CRH())&&(i.myInputVariable=n.first)}},inputs:{defaultValues:"defaultValues"},decls:57,vars:8,consts:[[1,"card","mb-5","mb-xl-10"],["role","button","data-bs-toggle","collapse","data-bs-target","#kt_account_profile_details","aria-expanded","true","aria-controls","kt_account_profile_details",1,"card-header","border-0","cursor-pointer"],[1,"card-title","m-0"],[1,"fw-bolder","m-0"],["id","kt_account_profile_details",1,"collapse","show"],[3,"formGroup"],[1,"card-body","border-top","p-9"],[1,"row","mb-6"],[1,"col-lg-4","col-form-label","fw-bold","fs-6"],[1,"col-lg-8"],["data-kt-image-input","true",1,"image-input","image-input-outline"],["alt","",3,"src",4,"ngIf","ngIfElse"],["noImageFound",""],["for","formFile",1,"form-label"],["name","formFile","type","file","id","formFile","enctype","multipart/form-data",1,"form-control",3,"change"],["formFile",""],["type","button",1,"btn","btn-primary","mt-3",3,"click"],[1,"col-lg-4","col-form-label","required","fw-bold","fs-6"],[1,"col-lg-8","fv-row"],["type","text","placeholder","User Id","name","userId","formControlName","userId",1,"form-control","form-control-lg","form-control-solid"],[1,"row"],[1,"col-lg-6","fv-row"],["type","text","placeholder","First name","name","firstName","formControlName","firstName",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["type","text","placeholder","Last name","name","lastName","formControlName","lastName",1,"form-control","form-control-lg","form-control-solid"],["type","text","placeholder","Email Address","name","emailAddress","formControlName","emailAddress",1,"form-control","form-control-lg","form-control-solid"],[1,"required"],["type","date","placeholder","Effective Date","name","effectiveDate","formControlName","effectiveDate",1,"form-control","form-control-lg","form-control-solid"],["type","date","placeholder","Expiry Date","name","expiryDate","formControlName","expiryDate",1,"form-control","form-control-lg","form-control-solid"],[1,"card-footer","d-flex","justify-content-end","py-6","px-9"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[4,"ngIf"],["alt","",3,"src"],["src","./assets/media/avatars/150-1.jpg","alt","metronic"],["clas","indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(o,i){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e._uU(4,"Profile Details"),e.qZA()()(),e.TgZ(5,"div",4)(6,"form",5)(7,"div",6)(8,"div",7)(9,"label",8),e._uU(10,"Avatar"),e.qZA(),e.TgZ(11,"div",9)(12,"div",10),e.YNc(13,q,1,1,"img",11),e.YNc(14,z,1,0,"ng-template",null,12,e.W1O),e.qZA(),e.TgZ(16,"div"),e._UZ(17,"label",13),e.TgZ(18,"input",14,15),e.NdJ("change",function(l){return i.onFilechange(l)}),e.qZA(),e.TgZ(20,"button",16),e.NdJ("click",function(){return i.upload()}),e._uU(21,"Upload"),e.qZA()()()(),e.TgZ(22,"div",7)(23,"label",17),e._uU(24,"User Id"),e.qZA(),e.TgZ(25,"div",18),e._UZ(26,"input",19),e.qZA()(),e.TgZ(27,"div",7)(28,"label",17),e._uU(29,"Full Name"),e.qZA(),e.TgZ(30,"div",9)(31,"div",20)(32,"div",21),e._UZ(33,"input",22),e.qZA(),e.TgZ(34,"div",21),e._UZ(35,"input",23),e.qZA()()()(),e.TgZ(36,"div",7)(37,"label",17),e._uU(38,"Email Address"),e.qZA(),e.TgZ(39,"div",18),e._UZ(40,"input",24),e.qZA()(),e.TgZ(41,"div",7)(42,"label",8)(43,"span",25),e._uU(44,"Effective Date"),e.qZA()(),e.TgZ(45,"div",18),e._UZ(46,"input",26),e.qZA()(),e.TgZ(47,"div",7)(48,"label",8)(49,"span",25),e._uU(50,"Expiry Date"),e.qZA()(),e.TgZ(51,"div",18),e._UZ(52,"input",27),e.qZA()()(),e.TgZ(53,"div",28)(54,"button",29),e.NdJ("click",function(){return i.saveSettings()}),e.YNc(55,M,2,0,"ng-container",30),e.YNc(56,_,4,3,"ng-container",30),e.qZA()()()()()),2&o){const n=e.MAs(15);e.xp6(6),e.Q6J("formGroup",i.superAdminForm),e.xp6(6),e.Udp("background-image","url(./assets/media/avatars/blank.png"),e.xp6(1),e.Q6J("ngIf",!i.isImageLoading)("ngIfElse",n),e.xp6(41),e.Q6J("disabled",i.isLoading),e.xp6(1),e.Q6J("ngIf",!i.isLoading),e.xp6(1),e.Q6J("ngIf",i.isLoading)}},dependencies:[v.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u],encapsulation:2}),r})();const j=[{path:"",component:N,children:[{path:"overview",component:E},{path:"settings",component:(()=>{class r{constructor(){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-settings"]],decls:1,vars:0,template:function(o,i){1&o&&e._UZ(0,"app-profile-details")},dependencies:[J],encapsulation:2}),r})()},{path:"",redirectTo:"overview",pathMatch:"full"},{path:"**",redirectTo:"overview",pathMatch:"full"}]}];let B=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[f.Bz.forChild(j),f.Bz]}),r})();var Z=c(8894),W=c(7579),V=c(9646),Y=c(9751),$=c(9300);function L(r){return Boolean(r.parentElement&&"picture"===r.parentElement.nodeName.toLowerCase())}function h(r){return"img"===r.nodeName.toLowerCase()}function w(r,t,o){return h(r)?o&&"srcset"in r?r.srcset=t:r.src=t:r.style.backgroundImage=`url('${t}')`,r}function b(r){return t=>{const o=t.parentElement.getElementsByTagName("source");for(let i=0;i<o.length;i++){const n=o[i].getAttribute(r);n&&("srcset"in o[i]?o[i].srcset=n:o[i].src=n)}}}const Q=b("defaultImage"),T=b("lazyLoad"),G=b("errorImage");function y(r){return(t,o,i)=>{h(t)&&L(t)&&r(t),o&&w(t,o,i)}}const X=y(Q),K=y(T),ee=y(G);function x(r,t){r.className=r.className.replace(t,"")}function I(r,t){r.className.includes(t)||(r.className+=` ${t}`)}class ie extends class re extends class te{constructor(){this.navigator=function H(){return"undefined"!=typeof window?window.navigator:void 0}()}setPlatformId(t){this.platformId=t}onDestroy(t){}onAttributeChange(t){}}{setup(t){X(t.element,t.defaultImagePath,t.useSrcset),t.imagePath&&I(t.element,"ng-lazyloading"),function oe(r,t){return r.className&&r.className.includes(t)}(t.element,"ng-lazyloaded")&&x(t.element,"ng-lazyloaded")}finally(t){I(t.element,"ng-lazyloaded"),x(t.element,"ng-lazyloading")}loadImage(t){if(this.skipLazyLoading(t))return[t.imagePath];const{element:o,useSrcset:i,imagePath:n,decode:l}=t;let s;return h(o)&&L(o)?(s=o.parentNode.cloneNode(!0).getElementsByTagName("img")[0],T(s),w(s,n,i)):(s=new Image,h(o)&&o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),h(o)&&o.sizes&&(s.sizes=o.sizes),i&&"srcset"in s?s.srcset=n:s.src=n),l&&s.decode?s.decode().then(()=>n):new Promise((m,p)=>{s.onload=()=>m(n),s.onerror=()=>p(null)})}setErrorImage(t,o){const{element:i,useSrcset:n,errorImagePath:l}=o;ee(i,l,n),I(i,"ng-failed-lazyloaded")}setLoadedImage(t,o){const{element:i,useSrcset:n}=o;K(i,t,n)}isDisabled(){return(0,v.PM)(this.platformId)&&!this.isBot()}skipLazyLoading(t){return this.isBot(t)}isBot(t){var o;return!(null===(o=this.navigator)||void 0===o||!o.userAgent)&&/googlebot|bingbot|yandex|baiduspider|facebookexternalhit|twitterbot|rogerbot|linkedinbot|embedly|quora\ link\ preview|showyoubot|outbrain|pinterest\/0\.|pinterestbot|slackbot|vkShare|W3C_Validator|whatsapp|duckduckbot|prerender/i.test(this.navigator.userAgent)}}{constructor(){super(...arguments),this.observers=new WeakMap,this.intersectionSubject=new W.x,this.uniqKey={}}getObservable(t){if(this.skipLazyLoading(t))return(0,V.of)({isIntersecting:!0});if(t.customObservable)return t.customObservable;const o=t.scrollContainer||this.uniqKey,i={root:t.scrollContainer||null};t.offset&&(i.rootMargin=`${t.offset}px`);let n=this.observers.get(o);return n||(n=new IntersectionObserver(l=>this.loadingCallback(l),i),this.observers.set(o,n)),n.observe(t.element),Y.y.create(l=>{const s=this.intersectionSubject.pipe((0,$.h)(m=>m.target===t.element)).subscribe(l);return()=>{s.unsubscribe(),n.unobserve(t.element)}})}isVisible(t){return t.isIntersecting}loadingCallback(t){t.forEach(o=>this.intersectionSubject.next(o))}}const ne=new e.OlP("LazyLoadImageHooks");let se=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[{provide:ne,useClass:ie}]}),r})();class u{constructor(t,o,i,n){this.left=t,this.top=o,this.right=i,this.bottom=n}static fromElement(t){const{left:o,top:i,right:n,bottom:l}=t.getBoundingClientRect();return 0===o&&0===i&&0===n&&0===l?u.empty:new u(o,i,n,l)}static fromWindow(t){return new u(0,0,t.innerWidth,t.innerHeight)}inflate(t){this.left-=t,this.top-=t,this.right+=t,this.bottom+=t}intersectsWith(t){return t.left<this.right&&this.left<t.right&&t.top<this.bottom&&this.top<t.bottom}getIntersectionWith(t){const o=Math.max(this.left,t.left),i=Math.max(this.top,t.top),n=Math.min(this.right,t.right),l=Math.min(this.bottom,t.bottom);return n>=o&&l>=i?new u(o,i,n,l):u.empty}}u.empty=new u(0,0,0,0);let ae=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[v.ez,B,D.vi,Z.QX,Z.HB,a.u5,a.UX,se]}),r})()}}]);